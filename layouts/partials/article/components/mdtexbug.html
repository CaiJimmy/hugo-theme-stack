<!-- ref: https://discourse.gohugo.io/t/braces-in-latex-get-escaped/39742/5 https://discourse.gohugo.io/t/use-goldmark-mathjax-extension/25721/8 https://discourse.gohugo.io/t/mathjax-rendering-problems-due-to-backslashes-interpretation-by-markdown-processor/30482 -->
{{ $content := .RawContent }}
<!-- this fixes issues with \\ not working correctly -->
{{ $content = $content | replaceRE "\\\\\\\\" "\\\\\\\\" }}
<!-- this fixes earlier issues with braces  -->
{{ $content = $content | replaceRE "\\\\{" "\\\\{" }} 
{{ $content = $content | replaceRE "\\\\}" "\\\\}" }}
<!-- this fixes issues with _ preceding a { or a \ -->
{{ $content = $content | replaceRE "\\_\\{" "\\_{" }}
{{ $content = $content | replaceRE "\\_\\\\" "\\_\\" }}
<!-- this fixes issues with \, -->
{{ $content = $content | replaceRE "\\\\," "\\\\,"}}

{{ $content | .Page.RenderString | safeHTML }}
