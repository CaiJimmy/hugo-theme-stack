<script src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"
    integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin="anonymous"></script>

{{- $opts := dict "minify" hugo.IsProduction -}}
{{- $script := resources.Get "ts/main.ts" | js.Build $opts -}}

<script type="text/javascript" src="{{ $script.RelPermalink }}" defer></script>

<!-- valine -->
{{- if .Site.Params.comments.valine.enable -}}
    <script src='//cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>
    <script type="text/javascript">
        new Valine({
            el: '#vcomments' ,
            appId: '{{ .Site.Params.comments.valine.appId }}',
            appKey: '{{ .Site.Params.comments.valine.appKey }}',
            verify: '{{ .Site.Params.comments.valine.verify }}', 
            avatar:'{{ .Site.Params.comments.valine.avatar }}', 
            placeholder: '{{ .Site.Params.comments.valine.placeholder }}',
            visitor: '{{ .Site.Params.valine.comments.visitor }}'
        });
    </script>
{{- end -}}