{{ if (.Context.Scratch.Get "TOCEnabled") }}
    <section class="widget archives">
        <div class="widget-icon">
            {{ $icon := default "hash" .Params.icon }}
            {{ $iconVisible := default true .Params.iconVisible }}
            {{ if $iconVisible }}
                {{ partial "helper/icon" $icon }}
            {{ end }}
        </div>
        <h2 class="widget-title section-title">{{ T "article.tableOfContents" }}</h2>
        
        <div class="widget--toc">
            {{ .Context.TableOfContents }}
        </div>
    </section>
{{ end }}